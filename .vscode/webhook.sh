Received Dodo Payments webhook: {
  business_id: 'bus_S0j4GqnwelprxVy7PicQG',
  type: 'payment.succeeded',
  timestamp: 2026-01-14T13:26:02.854Z,
  data: {
    payload_type: 'Payment',
    billing: {
      city: 'a',
      country: 'IN',
      state: 'a',
      street: 'a',
      zipcode: '560038'
    },
    brand_id: 'bus_S0j4GqnwelprxVy7PicQG',
    business_id: 'bus_S0j4GqnwelprxVy7PicQG',
    card_issuing_country: null,
    card_last_four: null,
    card_network: null,
    card_type: null,
    created_at: 2026-01-14T13:25:43.118Z,
    currency: 'INR',
    customer: {
      customer_id: 'cus_0NWGwkiON1PKv48vrrwW5',
      email: 'test@test.com',
      name: 'test'
    },
    digital_products_delivered: false,
    discount_id: null,
    disputes: [],
    error_code: null,
    error_message: null,
    metadata: { organizationId: '8qLjPYNH4xfjt0j3XIdN8iBYD4TLAfvg' },
    payment_id: 'pay_0NWGyJWRwu5tvVhinRZol',
    payment_link: 'https://test.checkout.dodopayments.com/Ua933d7z',
    payment_method: 'upi',
    payment_method_type: 'upi_intent',
    product_cart: null,
    refunds: [],
    settlement_amount: 3422,
    settlement_currency: 'USD',
    settlement_tax: 522,
    status: 'succeeded',
    subscription_id: 'sub_0NWGyJWb0l1msGyZVlKer',
    tax: 49020,
    total_amount: 321356,
    updated_at: null
  }
}
Received Dodo Payments webhook: {
  business_id: 'bus_S0j4GqnwelprxVy7PicQG',
  type: 'subscription.active',
  timestamp: 2026-01-14T13:26:02.854Z,
  data: {
    payload_type: 'Subscription',
    addons: [],
    billing: {
      city: 'a',
      country: 'IN',
      state: 'a',
      street: 'a',
      zipcode: '560038'
    },
    cancel_at_next_billing_date: false,
    cancelled_at: null,
    created_at: 2026-01-14T13:25:43.118Z,
    currency: 'USD',
    customer: {
      customer_id: 'cus_0NWGwkiON1PKv48vrrwW5',
      email: 'test@test.com',
      name: 'test'
    },
    discount_id: null,
    metadata: { organizationId: '8qLjPYNH4xfjt0j3XIdN8iBYD4TLAfvg' },
    next_billing_date: 2026-02-14T13:26:02.873Z,
    on_demand: false,
    payment_frequency_count: 1,
    payment_frequency_interval: 'Month',
    previous_billing_date: 2026-01-14T13:25:43.118Z,
    product_id: 'pdt_0NVPN65dLWspJhGZcSJ3d',
    quantity: 1,
    recurring_pre_tax_amount: 2900,
    status: 'active',
    subscription_id: 'sub_0NWGyJWb0l1msGyZVlKer',
    subscription_period_count: 10,
    subscription_period_interval: 'Year',
    tax_inclusive: false,
    trial_period_days: 0
  }
}
Received Dodo Payments webhook: {
  business_id: 'bus_S0j4GqnwelprxVy7PicQG',
  type: 'subscription.renewed',
  timestamp: 2026-01-14T13:26:02.854Z,
  data: {
    payload_type: 'Subscription',
    addons: [],
    billing: {
      city: 'a',
      country: 'IN',
      state: 'a',
      street: 'a',
      zipcode: '560038'
    },
    cancel_at_next_billing_date: false,
    cancelled_at: null,
    created_at: 2026-01-14T13:25:43.118Z,
    currency: 'USD',
    customer: {
      customer_id: 'cus_0NWGwkiON1PKv48vrrwW5',
      email: 'test@test.com',
      name: 'test'
    },
    discount_id: null,
    metadata: { organizationId: '8qLjPYNH4xfjt0j3XIdN8iBYD4TLAfvg' },
    next_billing_date: 2026-02-14T13:26:02.873Z,
    on_demand: false,
    payment_frequency_count: 1,
    payment_frequency_interval: 'Month',
    previous_billing_date: 2026-01-14T13:25:43.118Z,
    product_id: 'pdt_0NVPN65dLWspJhGZcSJ3d',
    quantity: 1,
    recurring_pre_tax_amount: 2900,
    status: 'active',
    subscription_id: 'sub_0NWGyJWb0l1msGyZVlKer',
    subscription_period_count: 10,
    subscription_period_interval: 'Year',
    tax_inclusive: false,
    trial_period_days: 0
  }
}
Received Dodo Payments webhook: {
  business_id: 'bus_S0j4GqnwelprxVy7PicQG',
  type: 'subscription.updated',
  timestamp: 2026-01-14T13:26:02.854Z,
  data: {
    payload_type: 'Subscription',
    addons: [],
    billing: {
      city: 'a',
      country: 'IN',
      state: 'a',
      street: 'a',
      zipcode: '560038'
    },
    cancel_at_next_billing_date: false,
    cancelled_at: null,
    created_at: 2026-01-14T13:25:43.118Z,
    currency: 'USD',
    customer: {
      customer_id: 'cus_0NWGwkiON1PKv48vrrwW5',
      email: 'test@test.com',
      name: 'test'
    },
    discount_id: null,
    metadata: { organizationId: '8qLjPYNH4xfjt0j3XIdN8iBYD4TLAfvg' },
    next_billing_date: 2026-02-14T13:26:02.873Z,
    on_demand: false,
    payment_frequency_count: 1,
    payment_frequency_interval: 'Month',
    previous_billing_date: 2026-01-14T13:25:43.118Z,
    product_id: 'pdt_0NVPN65dLWspJhGZcSJ3d',
    quantity: 1,
    recurring_pre_tax_amount: 2900,
    status: 'active',
    subscription_id: 'sub_0NWGyJWb0l1msGyZVlKer',
    subscription_period_count: 10,
    subscription_period_interval: 'Year',
    tax_inclusive: false,
    trial_period_days: 0
  }
}
// Dodo Payments Webhook Types

export type WebhookType = 
  | 'payment.succeeded'
  | 'subscription.active'
  | 'subscription.renewed'
  | 'subscription.updated';

export interface BillingAddress {
  city: string;
  country: string;
  state: string;
  street: string;
  zipcode: string;
}

export interface Customer {
  customer_id: string;
  email: string;
  name: string;
}

export interface PaymentData {
  payload_type: 'Payment';
  billing: BillingAddress;
  brand_id: string;
  business_id: string;
  card_issuing_country: string | null;
  card_last_four: string | null;
  card_network: string | null;
  card_type: string | null;
  created_at: string;
  currency: string;
  customer: Customer;
  digital_products_delivered: boolean;
  discount_id: string | null;
  disputes: unknown[];
  error_code: string | null;
  error_message: string | null;
  metadata: Record<string, string>;
  payment_id: string;
  payment_link: string;
  payment_method: string;
  payment_method_type: string;
  product_cart: unknown | null;
  refunds: unknown[];
  settlement_amount: number;
  settlement_currency: string;
  settlement_tax: number;
  status: string;
  subscription_id: string;
  tax: number;
  total_amount: number;
  updated_at: string | null;
}

export interface SubscriptionData {
  payload_type: 'Subscription';
  addons: unknown[];
  billing: BillingAddress;
  cancel_at_next_billing_date: boolean;
  cancelled_at: string | null;
  created_at: string;
  currency: string;
  customer: Customer;
  discount_id: string | null;
  metadata: Record<string, string>;
  next_billing_date: string;
  on_demand: boolean;
  payment_frequency_count: number;
  payment_frequency_interval: string;
  previous_billing_date: string;
  product_id: string;
  quantity: number;
  recurring_pre_tax_amount: number;
  status: string;
  subscription_id: string;
  subscription_period_count: number;
  subscription_period_interval: string;
  tax_inclusive: boolean;
  trial_period_days: number;
}

export interface DodoPaymentsWebhook {
  business_id: string;
  type: WebhookType;
  timestamp: string;
  data: PaymentData | SubscriptionData;
}















-----






Received Dodo Payments webhook payload {
  payload: {
    business_id: 'bus_S0j4GqnwelprxVy7PicQG',
    type: 'subscription.updated',
    timestamp: 2026-01-14T17:09:30.550Z,
    data: {
      payload_type: 'Subscription',
      addons: [],
      billing: [Object],
      cancel_at_next_billing_date: false,
      cancelled_at: null,
      created_at: 2026-01-14T17:09:19.895Z,
      currency: 'USD',
      customer: [Object],
      discount_id: null,
      metadata: [Object],
      next_billing_date: 2026-02-14T17:09:30.565Z,                       on_demand: false,
      payment_frequency_count: 1,                                        payment_frequency_interval: 'Month',
      previous_billing_date: 2026-01-14T17:09:19.895Z,                   product_id: 'pdt_0NVPV0lmqUWLt00WTSieZ',                           quantity: 1,
      recurring_pre_tax_amount: 7900,                                    status: 'active',                                                  subscription_id: 'sub_0NWHeqMAR1ZcH4aZfiYLu',
      subscription_period_count: 10,                                     subscription_period_interval: 'Year',                              tax_inclusive: false,
      trial_period_days: 0                                             }
  }                                                                }                                                                  Received Dodo Payments webhook payload {
  payload: {                                                           business_id: 'bus_S0j4GqnwelprxVy7PicQG',                          type: 'subscription.active',
    timestamp: 2026-01-14T17:09:30.550Z,                               data: {                                                              payload_type: 'Subscription',
      addons: [],                                                        billing: [Object],
      cancel_at_next_billing_date: false,                                cancelled_at: null,                                                created_at: 2026-01-14T17:09:19.895Z,
      currency: 'USD',                                                   customer: [Object],                                                discount_id: null,
      metadata: [Object],                                                next_billing_date: 2026-02-14T17:09:30.565Z,                       on_demand: false,
      payment_frequency_count: 1,                                        payment_frequency_interval: 'Month',
      previous_billing_date: 2026-01-14T17:09:19.895Z,                   product_id: 'pdt_0NVPV0lmqUWLt00WTSieZ',                           quantity: 1,
      recurring_pre_tax_amount: 7900,                                    status: 'active',                                                  subscription_id: 'sub_0NWHeqMAR1ZcH4aZfiYLu',
      subscription_period_count: 10,                                     subscription_period_interval: 'Year',                              tax_inclusive: false,
      trial_period_days: 0                                             }
  }                                                                }                                                                  Subscription active webhook: {
  business_id: 'bus_S0j4GqnwelprxVy7PicQG',                          type: 'subscription.active',                                       timestamp: 2026-01-14T17:09:30.550Z,
  data: {                                                              payload_type: 'Subscription',                                      addons: [],
    billing: {
      city: 'a',                                                         country: 'IN',                                                     state: 'a',
      street: 'a',                                                       zipcode: '560038'                                                },
    cancel_at_next_billing_date: false,
    cancelled_at: null,
    created_at: 2026-01-14T17:09:19.895Z,                              currency: 'USD',
    customer: {                                                          customer_id: 'cus_0NWHec38SUQK8dQA7FKU4',
      email: 'jan_14_10_36@today.com',                                   name: '14-Jan-10:36'                                             },
    discount_id: null,                                                 metadata: { organizationId: 'gyLVOH1NcktCfjxUnwEscgta3PvMALq2' },
    next_billing_date: 2026-02-14T17:09:30.565Z,                       on_demand: false,                                                  payment_frequency_count: 1,
    payment_frequency_interval: 'Month',                               previous_billing_date: 2026-01-14T17:09:19.895Z,
    product_id: 'pdt_0NVPV0lmqUWLt00WTSieZ',                           quantity: 1,                                                       recurring_pre_tax_amount: 7900,
    status: 'active',                                                  subscription_id: 'sub_0NWHeqMAR1ZcH4aZfiYLu',                      subscription_period_count: 10,
    subscription_period_interval: 'Year',                              tax_inclusive: false,                                              trial_period_days: 0
  }                                                                }
Received Dodo Payments webhook payload {                             payload: {                                                           business_id: 'bus_S0j4GqnwelprxVy7PicQG',
    type: 'subscription.renewed',                                      timestamp: 2026-01-14T17:09:30.550Z,                               data: {
      payload_type: 'Subscription',                                      addons: [],                                                        billing: [Object],
      cancel_at_next_billing_date: false,                                cancelled_at: null,
      created_at: 2026-01-14T17:09:19.895Z,                              currency: 'USD',                                                   customer: [Object],
      discount_id: null,                                                 metadata: [Object],                                                next_billing_date: 2026-02-14T17:09:30.565Z,
      on_demand: false,                                                  payment_frequency_count: 1,                                        payment_frequency_interval: 'Month',
      previous_billing_date: 2026-01-14T17:09:19.895Z,                   product_id: 'pdt_0NVPV0lmqUWLt00WTSieZ',
      quantity: 1,                                                       recurring_pre_tax_amount: 7900,                                    status: 'active',
      subscription_id: 'sub_0NWHeqMAR1ZcH4aZfiYLu',                      subscription_period_count: 10,                                     subscription_period_interval: 'Year',
      tax_inclusive: false,                                              trial_period_days: 0                                             }
  }                                                                }
Received Dodo Payments webhook payload {                             payload: {                                                           business_id: 'bus_S0j4GqnwelprxVy7PicQG',
    type: 'payment.succeeded',                                         timestamp: 2026-01-14T17:09:30.550Z,                               data: {
      payload_type: 'Payment',                                           billing: [Object],                                                 brand_id: 'bus_S0j4GqnwelprxVy7PicQG',
      business_id: 'bus_S0j4GqnwelprxVy7PicQG',
      card_issuing_country: null,                                        card_last_four: null,                                              card_network: null,
      card_type: null,                                                   created_at: 2026-01-14T17:09:19.895Z,                              currency: 'INR',
      customer: [Object],                                                digital_products_delivered: false,
      discount_id: null,                                                 disputes: [],
      error_code: null,                                                  error_message: null,                                               metadata: [Object],
      payment_id: 'pay_0NWHeqM3doXCAPjvxeHee',                           payment_link: 'https://test.checkout.dodopayments.com/6ENz66OG',
      payment_method: 'upi',                                             payment_method_type: 'upi_intent',                                 product_cart: null,
      refunds: [],                                                       settlement_amount: 9322,
      settlement_currency: 'USD',                                        settlement_tax: 1422,                                              status: 'succeeded',
      subscription_id: 'sub_0NWHeqMAR1ZcH4aZfiYLu',                      tax: 133551,                                                       total_amount: 875502,
      updated_at: null                                                 }                                                                }
}



 customer: {                                                          customer_id: 'cus_0NWHec38SUQK8dQA7FKU4',
      email: 'jan_14_10_36@today.com',                                   name: '14-Jan-10:36'                                             }


----------












